language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "QmYzUDc7oYEPPmiasDvP/QBUwL5ydhXnOLh8el5ZataP+MwJm95B46cn17G+6r7NnJS05I4GPOoaQtToexkvTGQILdMmeaFB566iTwePlD0XfNhJdb1b3dn0Yv8q/eTGYPGDoMfpVAz2KGK87uTV2hD3bXMu4tB6/cd+o+EfbaKJ4shE0kvVNlD3jSYijzFhLlM7gvZUCyjA3Z2wNoVoaSGJBsX53KGz0L6TGftcBDstro/56g7Kh4FPQgYe42i6JzCWd419ALwB5jqDeORozconhlGKe4ZDq46200denL2ClsZmGms99uCDQPECBi2gHvVLDL+Kp0pwyYviQVSRh/fBOcK8bG4pXEjRvlA5KIUIHX1Q3Qt9DLi9a9aWCxLSMa2j4XTNwJLb1/SVL2bEy4VQwcxLEe3P7kiUUadW7om4I6gntJ5ftfxfoC/RrfkuaF2h56xNey5tOkn1yp1UM9nzHyo/8F7WHyUlFhhjfyznjBxowga2t4Du470a2OFUaRfJGG4JWXc2kaCbxSOUzX7aEJqHUqQ9Jwdh0ZTq+eVE33mn/JosEJY/paygUtPeLzOVBp7fHDnl3sTfyHhYk5r0v/d7EBjEu8UHFfefTjkF+sbNWGi36AttGXtyDKk2nYfYq6V+NFCTeHMQrq/gO9smXAuJnskJuuhSjkSVDHM="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - jrichard@blackducksoftware.com
    - psantos@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
