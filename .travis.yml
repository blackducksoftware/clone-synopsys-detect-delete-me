language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "EnQtJIztEu7iNJHLUgVS2/4HmD6OSllfMvKdgzsDK13YBSoff2RPt5Wy4ymuZJBqjThLo+JDTPjBV6+ZEudUvY4DQcu5tvlVSH34FtoYgxbql9qXI0H0cmK3pQcjKflhmm7OZtGCWNIqOhEVIrGBI1tvi1i3pf7dgpDt/L0Kpj9NFJgyXel3ToxM9l5nzQG1xvB0Nq+naHof1sfC6rLLcGPiXJ1vGFYBStxR+bNFSLSzJ2KgsLtGBezsCj+plcj6f/VS+m7jxKQ9Sn1ZFHn79LRrYIUnwKyrkrcaAFMtNK9ltnyax6ayovaigs89HxZ69jt41T52le+tKrZJ2M/L4QpIjY5hPBH4yKbXNlSUtYJyUMNkV8Ku+3pRObTQu9ZIiu5/GVEZoSfxwpiqLI++3Tq+ER333nDEJ+686F9aV4dwPBG0HODZc35xm6m9ezyoyymZIH9UmAWwSqchDrlLIgd6QmPoY5uTgP/uTXEtMnOj5UzRxFGWCovb04r8/iFDtVJljKS5qexty2hpcVVqjJkSMfA6YRl3dsVLXyOtcoke4/ISIgn4wNsB1xmNekZK4J26SWUQ260GVaWISq9m8lXvaSjI1c1I02ZpegLp0lYvxb7ZjJUa744oJMBTB0WkI2QVVHARjxDtbrvA/GhsOQJo2NKGZFcw8z6f+lJ4P5E="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - jrichard@blackducksoftware.com
    - psantos@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
